<ion-header>
  <ion-navbar color="dark">
    <ion-title>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding style="margin-top: 20px">
  <form [formGroup]="registerForm" novalidate>
    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="text"  maxlength="60" [(ngModel)]="name" formControlName="name" placeholder="Nome Completo"></ion-input>
    </ion-item>
    
      <div class="error" *ngIf="registerForm.controls.name.invalid && registerForm.controls.name.touched && registerForm.controls.name.dirty">
        <p>Informe um Nome Completo válido</p>
      </div> 
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="tel" maxlength="11" [(ngModel)]="cpf" formControlName="cpf" placeholder="CPF"></ion-input>
    </ion-item>
    <div *ngIf="registerForm.controls.cpf.invalid && registerForm.controls.cpf.touched && registerForm.controls.cpf.dirty"
      class="error">Informe um CPF válido</div>
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="text" maxlength="35" [(ngModel)]="email" formControlName="email" placeholder="Email"></ion-input>
    </ion-item>
    <div *ngIf="registerForm.controls.email.invalid && registerForm.controls.email.touched && registerForm.controls.email.dirty"
      class="error">Informe um email válido</div>
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="password" [(ngModel)]="password" formControlName="password" placeholder="Senha"></ion-input>
     <!-- <ion-icon name="eye" item-right (click)="showHide()"></ion-icon> (botão olho p/ mostrar senha, falta direcionar o btn) -->

    </ion-item>
    <div *ngIf="registerForm.controls.password.invalid && registerForm.controls.password.touched && registerForm.controls.password.dirty"
      class="error">A Senha deverá ter no mínimo 8 caracteres, contendo números, letras maiúsculas e letras minúsculas</div>
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="password" [(ngModel)]="confirmPassword" formControlName="confirmPassword"
        placeholder="Confirme Sua Senha"></ion-input>
    </ion-item>
    <ion-item no-lines *ngIf="(registerForm.get('confirmPassword').hasError('equalTo') || registerForm.get('confirmPassword').hasError('dirty') ) && registerForm.get('confirmPassword').touched">
      <div class="error" *ngIf="registerForm.get('confirmPassword').hasError('required') && registerForm.get('confirmPassword').touched">
        <p class="error_message">* É necessário confirmar a senha</p>
      </div>
      <div class="error" *ngIf="registerForm.get('confirmPassword').hasError('equalTo') && registerForm.get('confirmPassword').touched">
        <p class="error_message">* As senhas não estão iguais</p>
      </div>
    </ion-item>
    <p></p>

    <ion-item class="border">
      <ion-label>Gênero</ion-label>
      <ion-select [(ngModel)]="user.gender" formControlName="gender">
        <ion-option value="FEMININO">Feminino</ion-option>
        <ion-option value="MASCULINO">Masculino</ion-option>
        <ion-option value="TRANS_FEM">Trans-Feminino</ion-option>
        <ion-option value="TRANS_MASC">Trans-Masculino</ion-option>
        <ion-option value="NAO_DECLARADO">Não informado</ion-option>
      </ion-select>
    </ion-item>
    <div *ngIf="registerForm.controls.gender.invalid && registerForm.controls.gender.touched && registerForm.controls.gender.dirty"
      class="error">Informe um gênero</div>
    <p></p>

    <ion-item class="border">
      <ion-label>Cor</ion-label>
      <ion-select [(ngModel)]="skin_color" formControlName="skin_color">
        <ion-option value="BRANCO">Branco</ion-option>
        <ion-option value="PARDO">Pardo</ion-option>
        <ion-option value="NEGRO">Negro</ion-option>
        <ion-option value="INDIGENA">Indígena</ion-option>
        <ion-option value="AMARELO">Amarelo</ion-option>
      </ion-select>
    </ion-item>
    <div padding *ngIf="registerForm.controls.skin_color.invalid && registerForm.controls.skin_color.touched && registerForm.controls.skin_color.dirty"
      class="error">Informe um tipo de raça/cor/etinia</div>
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="tel" maxlength="11" [(ngModel)]="cellphone" formControlName="cellphone" placeholder="Celular">
      </ion-input>
    </ion-item>
    <div *ngIf="registerForm.controls.cellphone.invalid && registerForm.controls.cellphone.touched && registerForm.controls.cellphone.dirty"
      class="error">Informe um número de celular válido</div>
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="tel" maxlength="11" placeholder="Telefone">
      </ion-input>
    </ion-item>
    <p></p>


    <ion-item class="border">
      <ion-label>Data de Nascimento </ion-label>
      <ion-datetime displayFormat="DD/MM/YYYY" max="2004" [(ngModel)]="birthdate" formControlName="birthdate"></ion-datetime>
    </ion-item>
    <div *ngIf="registerForm.controls.birthdate.invalid && registerForm.controls.birthdate.touched && registerForm.controls.birthdate.dirty"
      class="error">Este campo é obrigatório</div>
    <p></p>

    <button ion-button class="button-border" style="background-color:#990000;" (click)="goToLoginPage()">Cancelar</button>
    <button [disabled]="!registerForm.valid" ion-button class="button-border" style="background-color:#990000;" (click)="addUser()">Cadastrar</button>
  </form>
</ion-content>
