<ion-header>
  <ion-navbar color="dark">
    <ion-title>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding style="margin-top: 20px">
  <form [formGroup]="registerForm" novalidate>
    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="name" [(ngModel)]="user.name" formControlName="name" placeholder="Nome Completo"></ion-input>
    </ion-item>
    <span padding *ngIf="!registerForm.controls.name.valid && (!registerForm.controls.name.untouched || registerForm.controls.name.dirty)"
      class="error">Informe um nome completo</span>
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="number" [(ngModel)]="user.cpf" formControlName="cpf" placeholder="CPF"></ion-input>
    </ion-item>
    <span padding *ngIf="!registerForm.controls.cpf.valid && (!registerForm.controls.cpf.untouched || registerForm.controls.cpf.dirty)"
      class="error">Informe um CPF válido</span>
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="email" [(ngModel)]="user.email" formControlName="email" placeholder="Email"></ion-input>
    </ion-item>
    <span padding *ngIf="!registerForm.controls.email.valid && (!registerForm.controls.email.untouched || registerForm.controls.email.dirty)"
      class="error">Informe um email válido</span>
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="password" [(ngModel)]="user.password" formControlName="password" placeholder="Senha"></ion-input>
    </ion-item>
    <span padding *ngIf="!registerForm.controls.password.valid && (!registerForm.controls.password.untouched || registerForm.controls.password.dirty)"
      class="error">A Senha deverá ter no mínimo 8 caracteres, contendo números, letras maiúsculas e letras minúsculas</span>
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="password" [(ngModel)]="registerForm.confirmPassword" formControlName="confirmPassword"
        placeholder="Confirme Sua Senha"></ion-input>
    </ion-item>
    <ion-item no-lines *ngIf="(registerForm.get('confirmPassword').hasError('equalTo') || registerForm.get('confirmPassword').hasError('required') ) && registerForm.get('confirmPassword').touched">
      <div class="error" *ngIf="registerForm.get('confirmPassword').hasError('required') && registerForm.get('confirmPassword').touched">
        <p class="error_message">* Confirm password is required</p>
      </div>
      <div class="error" *ngIf="registerForm.get('confirmPassword').hasError('equalTo') && registerForm.get('confirmPassword').touched">
        <p class="error_message">* Password Mismatch</p>
      </div>
    </ion-item>
    <p></p>

    <ion-item class="border">
      <ion-label>Gênero</ion-label>
      <ion-select [(ngModel)]="user.gender" formControlName="gender">
        <ion-option value="FEMININO">Feminino</ion-option>
        <ion-option value="MASCULINO">Masculino</ion-option>
        <ion-option value="TRANS_FEM">Trans-Feminino</ion-option>
        <ion-option value="TRANS_MASC">Trans-Masculino</ion-option>
        <ion-option value="NAO_DECLARADO">Não informado</ion-option>
      </ion-select>
    </ion-item>
    <span padding *ngIf="!registerForm.controls.gender.valid && (!registerForm.controls.gender.untouched || registerForm.controls.gender.dirty)"
      class="error">Informe um gênero</span>
    <p></p>

    <ion-item class="border">
      <ion-label>Cor</ion-label>
      <ion-select [(ngModel)]="user.skin_color" formControlName="skin_color">
        <ion-option value="BRANCO">Branco</ion-option>
        <ion-option value="PARDO">Pardo</ion-option>
        <ion-option value="NEGRO">Negro</ion-option>
        <ion-option value="INDIGENA">Indígena</ion-option>
        <ion-option value="AMARELO">Amarelo</ion-option>
      </ion-select>
    </ion-item>
    <span padding *ngIf="!registerForm.controls.skin_color.valid && (!registerForm.controls.skin_color.untouched || registerForm.controls.skin_color.dirty)"
      class="error">Informe um tipo de raça/cor/etinia</span>
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="number" [(ngModel)]="user.cellphone" formControlName="cellphone" placeholder="Celular">
      </ion-input>
    </ion-item>
    <span padding *ngIf="!registerForm.controls.cellphone.valid && (!registerForm.controls.cellphone.untouched || registerForm.controls.cellphone.dirty)"
      class="error">Informe um número de celular válido</span>
    <p></p>

    <ion-item class="border">
      <ion-label color="primary" stacked></ion-label>
      <ion-input type="number" [(ngModel)]="user.phone" formControlName="phone" placeholder="Telefone">
      </ion-input>
    </ion-item>
    <span padding *ngIf="!registerForm.controls.phone.valid && (!registerForm.controls.phone.untouched || registerForm.controls.phone.dirty)"
      class="error">Informe um número de telefone válido</span>
    <p></p>

    <ion-item class="border">
      <ion-label>Data de Nascimento </ion-label>
      <ion-datetime displayFormat="DD/MM/YYYY" [(ngModel)]="user.birthdate" formControlName="birthdate"></ion-datetime>
    </ion-item>
    <span padding *ngIf="!registerForm.controls.birthdate.valid && (!registerForm.controls.birthdate.untouched || registerForm.controls.birthdate.dirty)"
      class="error">Este campo é obrigatório</span>
    <p></p>

    <button ion-button class="button-border" style="background-color:#990000;" (click)="goToLoginPage()">Cancelar</button>
    <button ion-button class="button-border" style="background-color:#990000;" (click)="addUser()">Cadastrar</button>
  </form>
</ion-content>
